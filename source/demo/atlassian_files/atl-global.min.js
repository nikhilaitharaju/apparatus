var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.Cookie=function(){"use strict";function a(a,c){var d=b(a);return null!==d?d:c}function b(a){try{for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}}catch(f){}return null}function c(a,b,c,d){try{var e="";if(c){var f=new Date;f.setTime(f.getTime()+24*c*60*60*1e3),e="; expires="+f.toGMTString()}var g=a+"="+b+e+"; path=/;",h=window.location.hostname;if("localhost"!==h&&!0===d){var i=h.split(".");if(i.length>1){var j=i[i.length-1],k=i[i.length-2];(isNaN(j)||isNaN(k))&&(h="."+k+"."+j)}g+=" domain="+h+";"}document.cookie=g}catch(l){}}return{getCookieUrl:a,readCookie:b,writeCookie:c}}();var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.CrossOriginMessenger=function(){"use strict";function a(a,b){return JSON.stringify({type:a,payload:b,source:k})}function b(a,b,c){a.postMessage(c,b)}function c(a,b,c){l.push({type:a,domain:e(b),callback:c})}function d(){l=[]}function e(a){return a.replace(/(^https:\/\/.*):443$/,"$1").replace(/(^http:\/\/.*):80$/,"$1")}function f(a){var b=g(a.data);h(b)&&i(b,a.origin)}function g(a){try{return JSON.parse(a)}catch(b){return}}function h(a){return a&&a.source===k}function i(a,b){for(var c=0;c<l.length;c++){var d=l[c];d.type===a.type&&j(d,b)&&d.callback(a)}}function j(a,b){return 0===b.indexOf(a.domain)}var k="ace.mkt.CrossOriginMessenger",l=[];return window.addEventListener("message",f,!1),{createMessage:a,sendMessage:b,addListener:c,clearAllListeners:d}}();var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.Guid=function(){"use strict";function a(){return Math.guid()}function b(){return Math.guid().replace(/-/g,"")}function c(a,b){var c=a.slice(-4),d=parseInt(c,16);if(isNaN(d))return a;var e=d.toString(16).length;return d+=b,d>65535?d-=65536:d<0&&(d+=65536),c=d.toString(16),c.length<e&&(c=("00000"+c).slice(-e)),a.slice(0,a.length-c.length)+c}function d(a){for(var b=0,c=0;c<a.length;c++)b+=Math.pow(31*a.charCodeAt(c),a.length-c),b&=b;return Math.abs(b)}return{guid:a,guidNoDashes:b,addNumberToGUID:c,guidHashCode:d}}();var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.Helpers=function(){"use strict";function a(a){if("complete"===document.readyState)a();else if(window.addEventListener)window.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",a);else{var b=window.onload;window.onload=function(){b&&b(),a()}}}function b(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(window.location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}function c(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function d(a){if(window.location.search.indexOf("utm_"))for(var b in a)a.hasOwnProperty(b)&&(a[b]=ace.mkt.Helpers.getParameterByName(b));return a}function e(){for(var a,b=document.getElementsByTagName("link"),c=0;a=b[c];c++)if("canonical"===a.getAttribute("rel"))return a.getAttribute("href")}function f(){var a=e();if(a)return a;var b=window.location.href,c=b.indexOf("#");return-1===c?b:b.slice(0,c)}function g(a){return decodeURIComponent(a).match(r)}function h(){return g(window.location.href)||g(document.referrer)}function i(a){window.location.href!==f()&&(a.url?a.actualUrl=a.url:a.actualUrl=window.location.href)}function j(a){return a.url=window.location.origin+s,a.path=s,a.search="",a}function k(a){return a.referrer=l(document.referrer)+s,a}function l(a){var b=document.createElement("a");return b.href=a,b.protocol+"//"+b.host}function m(a,b){return-1!==a.indexOf(b,a.length-b.length)}function n(a){return a.replace(/http(s|):\/\//g,"").split(/(\/|:)/g)[0]}function o(a){return null!==a&&"object"==typeof a&&!1===Array.isArray(a)}function p(a,b){function c(a){return null!==a&&null!==a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function d(a,h,i){i=i||1,Object.keys(a).forEach(function(j){var k=a[j],l=b.safe&&Array.isArray(k),m=Object.prototype.toString.call(k),n=c(k),o="[object Object]"===m||"[object Array]"===m,p=h?h+e+j:j;if(!l&&!n&&o&&Object.keys(k).length&&(!b.maxDepth||i<f))return d(k,p,i+1);g[p]=k})}b=b||{};var e=b.delimiter||".",f=b.maxDepth,g={};return d(a),g}function q(a,b,c){var d={};return d[b]=ace.mkt.Helpers.flattenObject(c),d=ace.mkt.Helpers.flattenObject(d),Object.keys(d).forEach(function(b){a[b]=d[b]}),a}var r=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i,s="/path-contained-email-address";return window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),{addActualUrl:i,addLoadEvent:a,getParameterByName:b,getBaseUrl:c,getUtms:d,urlWithoutPath:l,urlContainsEmail:g,addCleanedUrlAndPaths:j,addCleanedReferrer:k,emailAddressIsDetected:h,endsWith:m,hostnameFromUrl:n,isObject:o,flattenObject:p,flattenDataToObject:q}}(),Math.trueRandom=function(){function a(){var a=4022871197,b=function(b){b=b.toString();for(var c=0;c<b.length;c++){a+=b.charCodeAt(c);var d=.02519603282416938*a;a=d>>>0,d-=a,d*=a,a=d>>>0,d-=a,a+=4294967296*d}return 2.3283064365386963e-10*(a>>>0)};return b.version="Mash 0.9",b}function b(){return function(b){var c=0,d=0,e=0,f=1;0==b.length&&(b=[+new Date]);var g=a();c=g(" "),d=g(" "),e=g(" ");for(var h=0;h<b.length;h++)c-=g(b[h]),c<0&&(c+=1),d-=g(b[h]),d<0&&(d+=1),(e-=g(b[h]))<0&&(e+=1);g=null;var i=function(){var a=2091639*c+2.3283064365386963e-10*f;return c=d,d=e,e=a-(f=0|a)};return i.uint32=function(){return 4294967296*i()},i.fract53=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.version="Alea 0.9",i.args=b,i}(Array.prototype.slice.call(arguments))}return b()}(),Math.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.trueRandom()|0;return("x"==a?b:3&b|8).toString(16)})};var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.StorageManager=function(){"use strict";var a=/\d+#/,b=function(a,b){this.prefix=a,this.id=b,this.namespace=this.prefix+"."+this.id;try{this.localStorageSupported="localStorage"in window&&null!==window.localStorage}catch(c){}};return b.prototype={getPrefix:function(a){var b=1e3*(a||0);return b?+new Date+b+"#":""},getItem:function(b){if(!this.localStorageSupported)return null;var c=localStorage.getItem(this.namespace+"."+b),d=a.exec(c);return!0===d&&(c=c.replace(d[0],""),+new Date>d[0].replace("#",""))?(localStorage.removeItem(this.namespace+"."+b),null):c},contains:function(a){return!!this.getItem(a)},setItem:function(a,b,c){this.localStorageSupported&&(b=this.getPrefix(c)+b,localStorage.setItem(this.namespace+"."+a,b))},removeItem:function(a){this.localStorageSupported&&localStorage.removeItem(this.namespace+"."+a)}},{instance:b}}();var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.MessageTypes={atlPathEstablished:"atlPathEstablished"};var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.Properties={IFRAME_DOMAIN:"https://ace-cdn.atlassian.com",IFRAME_URI:"/stp/current/analytics/atl-path.html",COOKIE_DOMAIN:"atlassian.com"};var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.Initializer=function(){"use strict";function a(a,b,c,d){ace.analytics.SegmentIO.init(a,b,c,!0,d)}function b(a,b){ace.analytics.SegmentIO.init(a,{},{},!1,b)}function c(){return window.analytics.ready.apply(window,arguments)}return{initAnalytics:b,initWithPageAnalytics:a,ready:c}}();var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.Cohort=function(){"use strict";function a(){var a,b=ace.mkt.Cookie.readCookie(g);try{return a=JSON.parse(b),ace.mkt.Helpers.isObject(a)?a:null}catch(c){return null}}function b(b){return ace.mkt.Helpers.isObject(b)&&ace.mkt.Cookie.writeCookie(g,JSON.stringify(b),3650,!0),a()}function c(a,b){return!(!ace.mkt.Helpers.isObject(b)||void 0===b[a]||!ace.mkt.Helpers.isObject(b[a]))&&i.every(function(c){return void 0!==b[a][c]})}function d(a){return Object.keys(j).filter(function(b){return!c(b,a)})}function e(a){var b=j[a],c=ace.analytics.SegmentIO.getAnonymousId(),d={bucketedAtUTC:(new Date).toISOString(),version:h};return d.index=c?ace.mkt.Guid.guidHashCode(ace.mkt.Guid.addNumberToGUID(c,b.bucketId))%100:Math.ceil(100*Math.random()),Object.keys(b).forEach(function(a){d[a]=b[a]}),d}function f(){var c=a()||{},f=d(c);return f.length&&(f.forEach(function(a){c[a]=e(a)}),c=b(c)),c}var g="atlCohort",h="2",i=["index","bucketedAtUTC","version","bucketId"],j={bucketAll:{bucketId:0}};return{ATL_COHORT:g,COHORT_VERSION:h,readWriteAtlCohort:f,readAtlCohort:a}}();var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.Tracking=function(){"use strict";function a(a,b){b=d(b),ace.analytics.Tracking.segmentTrack?ace.analytics.Tracking.segmentTrack(a,b):window.analytics.track(a,b),ace.analytics.Evergage.trackEvent(a,b)}function b(a,b,c,e){c=d(c),window.cmsPageVariant&&(c.cmsPageVariant=window.cmsPageVariant),ace.analytics.Tracking.segmentPage?ace.analytics.Tracking.segmentPage(a,b,c,e):window.analytics.page(a,b,c,e)}function c(){if(window.optimizelyEffectiveReferrer){var a={};a.pageViewId=ace.analytics.Tracking.pageViewId;for(var b=["13352790354","13337600028","13417470109"],c=ace.analytics.Optimizely.getExperimentAndVariationIds().experiments,d=0;d<=c.length;d++)if(-1!==b.indexOf(c[d])){a.optimizelyEffectiveReferrer=window.optimizelyEffectiveReferrer;break}a.optimizelyEffectiveReferrer&&(ace.analytics.Tracking.segmentTrack?ace.analytics.Tracking.segmentTrack(k,a):window.analytics.track(k,a))}}function d(a){if("object"!=typeof a){var b=a;a={},void 0!==b&&(a.data=b)}return ace.analytics.Tracking.bxpGatewayRequestId||(ace.analytics.Tracking.bxpGatewayRequestId=ace.mkt.Cookie.readCookie("bxp_gateway_request_id")),ace.analytics.Tracking.bxpGatewayRequestId&&(a.bxpGatewayRequestId=ace.analytics.Tracking.bxpGatewayRequestId),ace.analytics.Tracking.pageViewId||(ace.analytics.Tracking.pageViewId=ace.mkt.Guid.guid()),a.pageViewId=ace.analytics.Tracking.pageViewId,a._sio=a._sio||ace.mkt.Cookie.readCookie("_sio"),a._atl_path=a._atl_path||ace.mkt.Cookie.readCookie("__atl_path")||"",a.evergage_anonymous_id=a.evergage_anonymous_id||ace.analytics.Evergage.getAnonymousId()||"",a.atlEventId=ace.mkt.Guid.guid(),a.atlJSVersion=ace.analytics.version||"1.0.0",a.browserLanguages=navigator.languages,a.category=a.category||"undefined"!==document.title?document.title.trim().replace(/\W+/g,"_"):"",a[ace.analytics.Cohort.ATL_COHORT]=ace.analytics.Cohort.readWriteAtlCohort(),a}function e(a,b,c,d){var e={userId:ace.analytics.SegmentIO.getAnonymousId(),event:"atl-globalError",properties:{error:b,data:c},writeKey:a},f=d||new XMLHttpRequest;f.open("POST","https://api.segment.io/v1/t"),f.setRequestHeader("Content-type","text/plain"),f.send(JSON.stringify(e))}function f(a){try{var b,c,d;"INPUT"===a.target.tagName?b=""!==a.target.value?a.target.value:a.target.textContent:(b=a.target.textContent,""===b&&(b=a.target.parentNode.textContent),""===b&&(b=a.target.title),""===b&&(b=a.target["aria-label"]),""===b&&(b=a.target.className)),c=a.target.href||"",d=a.target.getAttribute("data-track-event")||"Clicked-Auto-CTA";var e=void 0!==b?b.toLowerCase().trim().replace(/ /g,"-"):"",f={label:e,href:c};if(a.target.dataset)for(var g in a.target.dataset)"track-event"!==g&&a.target.dataset.hasOwnProperty(g)&&(f[g]=a.target.dataset[g]);ace.analytics.Tracking.trackEvent(d,f)}catch(h){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(h)}}function g(){try{for(var a=document.querySelectorAll("button, input[type='submit']"),b=0;b<a.length;b++)a[b].addEventListener("click",f)}catch(c){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(c)}}function h(){try{for(var a=[],b=document.querySelectorAll("a[class*='button'], a[class*='btn'], a.cta, .external-link"),c=0;c<b.length;c++){var d=b[c];(d.offsetWidth>=50||-1!==d.className.indexOf("cta")||-1!==d.className.indexOf("external-link"))&&a.push(d)}for(var e=0;e<a.length;e++)a[e].addEventListener("click",f)}catch(g){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(g)}}function i(a,b){try{var c=void 0!==a.className?a.className:a.parentNode.className,d=void 0!==a.textContent?a.textContent:"",e=void 0!==document.title?document.title.replace(/\W+/g,"_").trim():"";ace.analytics.Tracking.trackEvent(b,{className:c,category:e,label:d,_sio:ace.mkt.Cookie.readCookie("_sio")||"",_atl_path:ace.mkt.Cookie.readCookie("__atl_path")||""})}catch(f){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(f)}}function j(){try{for(var a=document.querySelectorAll("div[class*='videoPlayButton'], .video-link, .video_link, .customer-story-video-link"),b=document.querySelectorAll("div[class='overlay'], .modal.video .close"),c=function(){i(this,"Opened Video")},d=function(){i(this,"Closed Video")},e=0;e<a.length;e++)a[e].addEventListener("click",c);for(var f=0;f<b.length;f++)b[f].addEventListener("click",d)}catch(g){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(g)}}var k="tracked pageStitching";return{autoTrackButtons:g,autoTrackLinks:h,autoTrackVideos:j,enrichEventData:d,logError:e,trackEvent:a,pageView:b,pageStitching:c,PAGE_STITCHING:k}}();var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.Identity=function(){"use strict";function a(a,c,d){a=void 0!==a&&a,c=c&&"object"==typeof c?c:{},d=void 0!==d?d:{},a&&(ace.analytics.Identity.segmentIdentify?ace.analytics.Identity.segmentIdentify(a,c,d):window.analytics.identify(a,c,d),b(a,c))}function b(a,b){var c=b;c.atlassian_id=a,c.optimizely_end_user_id=ace.analytics.Optimizely.getVisitorId(),c.atlJSVersion=ace.analytics.version||"1.0.0";try{c.ga_clientid=ace.mkt.Cookie.readCookie("_ga")}catch(d){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(d)}ace.analytics.Tracking.segmentTrack?ace.analytics.Tracking.segmentTrack("known_identifiers",c):window.analytics.track("known_identifiers",c)}function c(){var a,b=ace.mkt.Helpers.emailAddressIsDetected();try{a=ace.mkt.Cookie.readCookie(k)}catch(h){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(h,"atl_path read cookie error in autoIdentify ")}var c=ace.mkt.Cookie.readCookie(l),d=decodeURIComponent(c);b&&(n.integrations={All:!1,"Google Analytics":!0},ace.mkt.Helpers.urlContainsEmail(window.location.href)&&ace.mkt.Helpers.addCleanedUrlAndPaths(m),ace.mkt.Helpers.urlContainsEmail(document.referrer)&&ace.mkt.Helpers.addCleanedReferrer(m));try{var f=ace.analytics.Evergage.getAnonymousId();void 0!==f&&null!==f&&(m.evergage_anonymous_id=f)}catch(h){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(h,"error getting Evergage anonymousId")}try{var g=decodeURIComponent(ace.mkt.Cookie.readCookie("optimizelyBuckets"));"null"!==g&&(m.optimizelyBuckets=JSON.parse(g))}catch(h){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(h,"error reading optimizelyBuckets cookie value")}try{m.anonymous_id=ace.analytics.SegmentIO.getAnonymousId()}catch(h){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(h,"error reading window.analytics.user().anonymousId() in identify")}try{m[ace.analytics.Cohort.ATL_COHORT]=ace.analytics.Cohort.readWriteAtlCohort()}catch(h){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(h,"error reading or writing cohort in ace.analytics.Cohort.readWriteAtlCohort() in identify")}void 0!==a&&a?c&&(m.atl_path=a,ace.analytics.Identity.identify(d,m,n)):e(function(a){m.atl_path=a,ace.analytics.Tracking.trackEvent("atlpath",m,n),c&&ace.analytics.Identity.identify(d,m,n)},!0)}function d(a){var b;try{b=ace.mkt.Cookie.readCookie(k),!b&&ace.mkt.Helpers.endsWith(document.domain,ace.analytics.Properties.COOKIE_DOMAIN)&&(b=ace.mkt.Guid.guidNoDashes(),ace.mkt.Cookie.writeCookie(k,b,3650,!0))}catch(c){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(c,"error in findAtlPath")}return b}function e(a,b){var c=ace.analytics.Identity.findAtlPath(!0);c?a(c):ace.analytics.Identity.callWithAtlPathFromIFrame(a,!0)}function f(a,b){var c=!1,d=setTimeout(function(){c=!0,a("atlexception_iframe-timeout")},8e3);ace.mkt.CrossOriginMessenger.addListener(ace.mkt.MessageTypes.atlPathEstablished,ace.analytics.Properties.IFRAME_DOMAIN,function(b){var e=b.payload;clearTimeout(d),ace.mkt.Cookie.writeCookie(k,e,3650,!0),c||a(e)}),ace.mkt.Helpers.addLoadEvent(j)}function g(a){return ace.mkt.Helpers.endsWith(a,"atlassian.com")||ace.mkt.Helpers.endsWith(a,"atlassian.io")||ace.mkt.Helpers.endsWith(a,"atlassian.net")||ace.mkt.Helpers.endsWith(a,"hipchat.com")||ace.mkt.Helpers.endsWith(a,"sourcetreeapp.com")||ace.mkt.Helpers.endsWith(a,"bitbucket.org")||ace.mkt.Helpers.endsWith(a,"jira.com")||ace.mkt.Helpers.endsWith(a,"jira-dev.com")||ace.mkt.Helpers.endsWith(a,"127.0.0.1:9001")||ace.mkt.Helpers.endsWith(a,"127.0.0.1:9002")||ace.mkt.Helpers.endsWith(a,"127.0.0.1:8080")||ace.mkt.Helpers.endsWith(a,"codecademy.com")||ace.mkt.Helpers.endsWith(a,"offerpop.com")||ace.mkt.Helpers.endsWith(a,"stride.com")||ace.mkt.Helpers.endsWith(a,"stride.video")}function h(a){var b=ace.mkt.Helpers.getParameterByName("domain");if(b&&g(b)){var c=ace.mkt.CrossOriginMessenger.createMessage(ace.mkt.MessageTypes.atlPathEstablished,a);ace.mkt.CrossOriginMessenger.sendMessage(window.parent,b,c)}}function i(a){h(d())}function j(){var a=document.createElement("IFRAME"),b=ace.analytics.Properties.IFRAME_DOMAIN+ace.analytics.Properties.IFRAME_URI+"?domain="+ace.mkt.Helpers.getBaseUrl();a.setAttribute("src",b),a.style.width="0px",a.style.height="0px",a.style.visibility="hidden",a.style.display="block",document.body.appendChild(a)}var k="__atl_path",l="__aid_user_id",m={},n={};return{autoIdentify:c,identify:a,callWithAtlPath:e,callWithAtlPathFromIFrame:f,transmitAtlPath:i,findAtlPath:d}}();var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.Evergage=function(){"use strict";function a(){return!!window.Evergage}function b(b,c){a()&&(e(),d(c),window.Evergage.setCustomField("atlEventName",b,window.Evergage.Scope.Request),window.Evergage.trackAction("AtlEvent-TRACK"))}function c(b){if(a()){e(),d(b);var c=ace.analytics.Optimizely.getExperimentAndVariationIds();c.experiments.length&&(window.Evergage.setCustomField("optimizely_experimentIds",c.experiments.toString(),window.Evergage.Scope.Request),window.Evergage.setCustomField("optimizely_variationIds",c.variations.toString(),window.Evergage.Scope.Request)),window.Evergage.trackAction("AtlEvent-PAGE")}}function d(a){if("object"==typeof a)try{for(var b=ace.mkt.Helpers.flattenObject(a,{delimiter:"_"}),c=Object.keys(b),d=0;d<c.length;d++)window.Evergage.setCustomField(c[d],b[c[d]],window.Evergage.Scope.Request)}catch(e){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(e)}}function e(){var a=ace.analytics.SegmentIO.getXID();a&&window.Evergage.setCustomField("seg_xid",a,window.Evergage.Scope.Request);var b=ace.analytics.SegmentIO.getAnonymousId();b&&window.Evergage.setCustomField("seg_anonymousId",b,window.Evergage.Scope.Request)}function f(){if(a())return window.Evergage.getAnonymousId()}return{isInitialized:a,trackEvent:b,getAnonymousId:f,pageView:c}}();var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.Optimizely=function(){"use strict";function a(){return!!window.optimizely&&window.optimizely.initialized}function b(){if(!a())return{experiments:[],variations:[]};for(var b=window.optimizely.get("state").getExperimentStates({isActive:!0}),c=Object.keys(b),d=[],e=0;e<c.length;e++){var f="null";b[c[e]].variation&&b[c[e]].variation.id&&(f=b[c[e]].variation.id),d.push(f)}return{experiments:c,variations:d}}function c(){return a()?window.optimizely.get("state").getCampaignStates():{}}function d(){return a()?window.optimizely.get("visitor_id").randomId:null}return{isInitialized:a,getExperimentAndVariationIds:b,getCampaigns:c,getVisitorId:d}}();var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.SegmentIO=function(){"use strict";function a(a,b,d,e,f){"object"==typeof f&&null!==f||(f={}),ace.analytics.SegmentIO.initSource=a,ace.analytics.SegmentIO.wrapSegment(a,f);var g=ace.mkt.Helpers.emailAddressIsDetected(),j="/path-contained-email-address";"object"==typeof b&&null!==b||(b={}),"object"==typeof d&&null!==d||(d={}),g&&(d.integrations={All:!1,"Google Analytics":!0},ace.mkt.Helpers.urlContainsEmail(window.location.href)&&ace.mkt.Helpers.addCleanedUrlAndPaths(b),ace.mkt.Helpers.urlContainsEmail(document.referrer)&&ace.mkt.Helpers.addCleanedReferrer(b)),ace.mkt.Helpers.addActualUrl(b),!0===e&&(c(b),ace.analytics.Tracking.pageView(null,null,b,d));var k=function(){if(!window.atlReadyCalled){window.atlReadyCalled=!0,ace.analytics.Tracking.segmentTrack=analytics.track,analytics.track=ace.analytics.Tracking.trackEvent,ace.analytics.Tracking.segmentPage=analytics.page,analytics.page=ace.analytics.Tracking.pageView,ace.analytics.Identity.segmentIdentify=analytics.identify,analytics.identify=ace.analytics.Identity.identify,"function"==typeof window.segmentReady&&window.segmentReady(),"function"==typeof window.segmentPageReady&&window.segmentPageReady(),"undefined"!=typeof ga&&(ga("require","linker"),ga("linker:autoLink",["atlassian.com","bitbucket.org","hipchat.com","attendease.com","get.atlassian.com","eegeventsite.secure.force.com","atlassian.swoogo.com"]),g&&(ace.mkt.Helpers.urlContainsEmail(window.location.href)&&(ga("set","location",window.location.origin+j),ga("set","path",j)),ace.mkt.Helpers.urlContainsEmail(document.referrer)&&ga("set","referrer",ace.mkt.Helpers.hostnameFromUrl(document.referrer)+j)));var a=["www.atlassian.com","qa-wac.internal.atlassian.com","blogs.atlassian.com","confluence.atlassian.com","marketplace.atlassian.com","developer.atlassian.com","community.atlassian.com","my.atlassian.com","www.stride.com","stride.video"];window.location.host&&a.indexOf(window.location.host)>-1&&(ace.analytics.Tracking.autoTrackButtons(),ace.analytics.Tracking.autoTrackLinks(),ace.analytics.Tracking.autoTrackVideos());try{ace.mkt.Cookie.writeCookie("_sio",window.analytics.user().anonymousId(),3650,!0),ace.analytics.Identity.autoIdentify()}catch(b){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(b,"error writing _sio/utm_params cookie")}ace.analytics.Tracking.pageStitching()}},l=0,m=setInterval(function(){l<h?ace.analytics.SegmentIO.isSegmentUserAvailable()?(clearInterval(m),k()):l++:(clearInterval(m),k())},i);window.analytics.ready(function(){clearInterval(m),k()})}function b(){return!!window.analytics&&!!window.analytics.user}function c(a){a=a||{};try{var b=ace.mkt.Cookie.readCookie("__atl_path"),c=ace.mkt.Cookie.readCookie("__utmz"),d=ace.mkt.Cookie.readCookie("_ga");b&&(a.context_atl_path=b),c&&(a.utmz=c),d&&(a.ga_clientid=d)}catch(e){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(e)}return a}function d(a,b){!function(){var c=window.analytics=window.analytics||[];if(!c.initialize){if(c.invoked)return void(window.console&&console.error&&console.error("Segment snippet included twice."));c.invoked=!0,c.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],c.factory=function(a){return function(){var b=Array.prototype.slice.call(arguments);return b.unshift(a),c.push(b),c}};for(var d=0;d<c.methods.length;d++){var e=c.methods[d];c[e]=c.factory(e)}c.load=function(a,b){var d=document.createElement("script");d.type="text/javascript",d.id="analytics-js",d.async=!0,d.src="https://cdn.segment.com/analytics.js/v1/"+a+"/analytics.min.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(d,e),c._loadOptions=b},c.SNIPPET_VERSION="4.1.0",c.load(a,b)}}()}function e(){return!!window.analytics}function f(){if(b())return window.analytics.user().anonymousId();var a=ace.mkt.Cookie.readCookie("ajs_anonymous_id");return a?decodeURIComponent(a).replace(/['"]+/g,""):(a=ace.mkt.Guid.guid(),ace.mkt.Cookie.writeCookie("ajs_anonymous_id",encodeURIComponent('"'+a+'"')),a=ace.mkt.Cookie.readCookie("ajs_anonymous_id"),a?decodeURIComponent(a).replace(/['"]+/g,""):null)}function g(){var a=null;try{a=ace.mkt.Cookie.readCookie("seg_xid")}catch(b){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(b)}return a}var h=6,i=200;return window.atlReadyCalled=!1,{init:a,isInitialized:e,wrapSegment:d,getAnonymousId:f,getXID:g,isSegmentUserAvailable:b,ATL_GLOBAL_ERROR_KEY:"OwkfO6MbQAZAEBuW9CxxAgyahOi8I51r"}}();var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.version="2.0.130";
//# sourceMappingURL=atl-global.min.js.map